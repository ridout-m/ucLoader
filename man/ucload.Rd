% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/uc_loader.R
\name{ucload}
\alias{ucload}
\title{Load a Unity Catalog file into an environment}
\usage{
ucload(path, ..., envir = parent.frame())
}
\arguments{
\item{path}{Character scalar. Unity Catalog file path (typically under
\verb{/Volumes/...}).}

\item{...}{Additional arguments passed to \code{utils::read.csv()} when \code{path} has
extension \code{.csv}.}

\item{envir}{Environment into which objects are loaded/assigned. Defaults to
\code{parent.frame()}.}
}
\value{
Invisibly returns:
\describe{
\item{For \code{.RData}/\code{.rda}:}{A character vector of object names created by
\code{base::load()}.}
\item{For \code{.qs2}, \code{.RDS}, \code{.csv}:}{The assigned object name (character
scalar).}
}
}
\description{
Downloads a Unity Catalog file to a temporary local path, reads it based on
its extension, assigns the resulting object(s) into \code{envir}, and deletes the
temporary file on exit.
}
\details{
Supported extensions are \code{.qs2}, \code{.RData}/\code{.rda}, \code{.RDS}, and \code{.csv}.

The file is first downloaded via \code{download()}. A temporary local file is
removed via \code{on.exit()}. For \code{.qs2}, \code{.RDS}, and \code{.csv}, the object is read
and assigned into \code{envir} using a name derived from the filename via
\code{default_obj_name()}. For \code{.RData}/\code{.rda}, objects are loaded via \code{base::load()}.

Progress and user-facing messages are emitted via \code{cli}. If the extension is
unsupported, the function aborts.
}
\examples{
\dontrun{
# Load an .RData into the current environment
ucload("/Volumes/cat/schema/volume/path/snapshot.RData")

# Load a .qs2 and assign into a specific environment
e <- new.env(parent = emptyenv())
nm <- ucload("/Volumes/cat/schema/volume/path/model.qs2", envir = e)
ls(e)
}

}
