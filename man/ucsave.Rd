% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/uc_loader.R
\name{ucsave}
\alias{ucsave}
\title{Save an R object to a temporary file and upload to Unity Catalog}
\usage{
ucsave(
  object,
  path,
  overwrite = TRUE,
  extension = c(".qs2", ".RData", ".RDS", ".csv"),
  force_ext = TRUE,
  ...
)
}
\arguments{
\item{object}{R object to save.}

\item{path}{Character scalar. Destination Unity Catalog file path (typically
beginning with \verb{/Volumes/...}).}

\item{overwrite}{Logical; if \code{TRUE}, allow overwriting an existing file at the
destination.}

\item{extension}{Character scalar. One of \code{c(".qs2", ".RData", ".RDS", ".csv")}
indicating the temporary on-disk format to write before uploading.}

\item{force_ext}{Logical; passed to \code{upload()}. If \code{TRUE}, forces the
destination filename extension to match the extension of the temporary file.}

\item{...}{Additional arguments passed to \code{utils::write.csv()} when
\code{extension = ".csv"}.}
}
\value{
Invisibly returns the destination UC path (character scalar) on
success (returned from \code{upload()}).
}
\description{
Serialises an R object to a temporary local file (chosen by \code{extension}) and
uploads that file to a Unity Catalog destination path via \code{upload()}.
}
\details{
Supported output formats are \code{.qs2}, \code{.RData}, \code{.RDS}, and \code{.csv}.

The object is written to a temporary file created with \code{tempfile()}, which is
deleted on exit. For \code{.RData}, the object is saved under its calling name
(derived via \code{deparse(substitute(object))}) by assigning it into a temporary
environment and calling \verb{base::save(list = <name>, envir = <env>)}. For \code{.RDS}
and \code{.qs2}, the object is written with \code{saveRDS()} or \code{qs2::qs_save()},
respectively. For \code{.csv}, the object is written with \code{utils::write.csv()}.

Progress, file size, and compression hints are reported via \code{cli}.
}
\examples{
\dontrun{
# Default: save as .qs2 then upload
ucsave(mtcars, "/Volumes/cat/schema/volume/path/mtcars.qs2", overwrite = TRUE)

# Save as .RData (stores under the calling name)
x <- mtcars
ucsave(x, "/Volumes/cat/schema/volume/path/x", extension = ".RData")

# Save as .csv with write.csv options
ucsave(mtcars, "/Volumes/cat/schema/volume/path/mtcars.csv",
       extension = ".csv", row.names = FALSE)
}

}
